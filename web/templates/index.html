<!--
Jass is an open source client and recommender system for the SoulSeek network.
Copyright (C) 2017 Richard Dunn

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<html>
<head>
    <title>JASS - Remote SoulSeek</title>

    <link rel="apple-touch-icon" sizes="144x144" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/icons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/icons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/icons/manifest.json">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">

    <!-- <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"> -->
    <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/jass.css">

</head>
<body>

    <script type="text/template" id="container-template">

        <div class="container-fluid justify-content-center">

            <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse">

            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarTogglerDemo02">

                <a class="navbar-brand" href="#">JASS</a>

                <ul class="navbar-nav mr-auto mt-2 mt-md-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="#rooms" id="rooms-tab">Rooms</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#chat" id="chat-tab">Chat</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#search" id="search-tab">Search</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#users" id="users-tab">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#browse" id="browse-tab">Browse</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#uploads" id="uploads-tab">Uploads</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#downloads" id="downloads-tab">Downloads</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#recommender" id="recommender-tab">Recommender</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#options" id="options-tab">Options</a>
                    </li>
                </ul>
            </div>
        </nav>

    </div>

    <div class="content" id="container"></div>

</script>


<!-- Rooms View Templates -->
<script type="text/template" id="rooms">
    <div class="row">
        <div class="col-3">
            <div class="" id="rooms-list-panel"></div>
        </div>
        <div class="col-9">
            <div class="overflow-scroll chatroom-scroll" id="chatrooms-panel"></div>
        </div>
    </div>
</script>


<script type="text/template" id="roomlist-template">
    <div class="card card-outline-secondary roomlist-card">
        <div class="card-block">
            <h4 class="card-title text-center">Rooms</h4>
            <ul class="list-group overflow-scroll roomlist-scroll" id="rooms_list"> </ul>
        </div>
    </div>
</script>

<script type="text/template" id="chatroom-template">

        <div class="card card-outline-secondary">
            <div class="card-block" style="height: 100%;">

                <div class="row" style="height: 100%;">

                    <div class="col-12">
                        <h4 class="card-title text-center"><%= room %>
                            <a class="card-title float-right" id="leaveRoom"><i class="fa fa-sign-out" aria-hidden="true"></i></a>
                        </h4>
                    </div>

                    <div class="col-4">
                        <ul class="list-group overflow-scroll chatroom-userlist-scroll" id="open_room_users"> </ul>
                    </div>

                    <div class="col-8">
                        <ul class="list-group overflow-scroll chatroom-chats-scroll" id="open_room_chat">
                            <% _.each(chats, function(chat){ %>
                            <div>
                                <li class="list-group-item justify-content-between">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-4"><%= chat.user %> <i class="fa fa-angle-right fa-lg float-right fix-fa-height" aria-hidden="true"></i> </div>
                                            <div class="col-8"><%= chat.message %></div>
                                        </div>
                                    </div>
                                </li>
                            </div>
                            <% }); %>
                        </ul>
                        <div class="form-group chat-form">
                            <form id="chatInput">
                                <input type="text" id="chatInputText" class="form-control">
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </script>

    <script type="text/template" id="person-template">
        <li class="list-group-item justify-content-between">
            <%= user %>
            <span class="badge badge-default badge badge-default badge-pill"><%= files %></span>
        </li>
    </script>





    <!-- Browse View Templates -->

    <script type="text/template" id="browse">
        <!-- <h4 class="card-title text-xs-center">Browse View</h4> -->
        <div class="container-fluid">
            <ul class="nav nav-tabs" id="browse-tabs"></ul>
        </div>
        <div id="browse-instance-container"></div>
    </script>

    <script type="text/template" id="browse-instance">

        <div class="row browse-row">
            <div class="col-6">
                <div class="card card-outline-secondary browse-col">
                    <div class="card-block" id="browse-instance-folders-panel-container">
                        <h4 class="card-title text-center">Folders</h4>
                        <div class="col card-text">
                            <ul class="list-group list-group-flush overflow-scroll browse-list" id="browse-folders-list"> </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-6">
                <div class="card card-outline-secondary browse-col">
                    <div class="card-block" id="browse-instance-files-panel-container">
                        <h4 class="card-title text-center">Files</h4>
                        <div class="col card-text">
                            <ul class="list-group list-group-flush overflow-scroll browse-list" id="browse-files-list"> </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </script>

    <!-- <script type="text/template" id="browse-instance-folders-panel-folder"> </script> -->

    <script type="text/template" id="browse-instance-files-panel-file">
        <li class="list-group-item"> </li>
    </script>




    <!-- Reccomender View Templates -->

    <script type="text/template" id="recommender-template">
        <!-- <h4 class="card-title text-xs-center">Browse View</h4> -->
        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-6">
                    <div class="card">
                        <div class="card-block">
                            <h3 class="card-title text-center">Recommender Options</h3>
                            <hr/>
                            <div class="row">
                                <div class="col-4">
                                    <button class="btn btn-primary float-right" id="index-all-collections">Index All Collections</button>
                                </div>
                                <div class="col-8">
                                    <p class="card-text">
                                        Indexing collections will attempt to identify artists and releases in the user collections saved to the database.
                                        It does this by preforming searches against the MusicBrainz API.
                                        Note that due to request limits on the MusicBrainz search server, this process can take a long time (~2-3 seconds per folder in the collection).
                                    </p>
                                </div>
                            </div>
                            <hr/>
                            <div class="row">
                                <div class="col-4">
                                    <button class="btn btn-primary float-right" id="refresh-recommendations">Refresh Recommendations</button>
                                </div>
                                <div class="col-8">
                                    <p class="card-text">Refreshing recommendations should only take a few seconds at most. You only need to refresh this if you have indexed new user collections.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row justify-content-center">
                <div class="col-6">
                    <div class="card">
                        <div class="card-block">
                            <h3 class="card-title text-center">Recommendations</h3>
                            <hr/>
                            <div class="row">
                                <!-- <div class="col-4"><button class="btn btn-primary float-right" id="index-all-collections">Search for </button></div> -->
                                <div class="col">
                                    <ul class="list-group list-group-flush overflow-scroll browse-list" id="recommendations-list"> </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- <script type="text/template" id="recommendation-template">
            <div class="card card-outline-secondary user-col">
                <div class="card-block">
                    <h4 class="card-title text-center">Users</h4>
                    <ul class="list-group list-group-flush" id="user_list"> </ul>
                </div>
            </div>
        </div>
    </script> -->


    <!-- Context Menu Template -->
    <script type="text/template" id="contextmenu-template">
        <div class="container">
            <div class="row">

                <div class="col-12 justify-content-between">
                    <button class="btn float-right">
                        <span class="close" id="close-contextmenu">&times;</span>
                    </button>
                </div>

                <div class="col-12">
                    <ul class="list-group" id="contextmenu-list"> </ul>
                </div>

            </div>
        </div>
    </script>


    <!-- Users View Templates -->
    <script type="text/template" id="user-list-template">
        <div class="col-4">
            <div class="card card-outline-secondary user-col">  <!-- room-list -->
                <div class="card-block">
                    <h4 class="card-title text-center">Users</h4>
                    <ul class="list-group list-group-flush" id="user_list"> </ul>
                </div>
            </div>
        </div>
    </script>


    <script type="text/javascript" src="/js/libs/jquery.min.js"></script>
    <script type="text/javascript" src="/js/libs/underscore.min.js"></script>
    <script type="text/javascript" src="/js/libs/backbone.min.js"></script>
    <script type="text/javascript" src="/js/libs/socket.io.js"></script>
    <script type="text/javascript" src="/js/libs/tether.min.js"></script>
    <script type="text/javascript" src="/js/libs/bootstrap.min.js"></script>

    <script type="text/javascript" src="/js/models/browseModel.js"></script>
    <script type="text/javascript" src="/js/models/chatModel.js"></script>
    <script type="text/javascript" src="/js/models/containerModel.js"></script>
    <script type="text/javascript" src="/js/models/downloadsModel.js"></script>
    <script type="text/javascript" src="/js/models/recommenderModel.js"></script>
    <script type="text/javascript" src="/js/models/optionsModel.js"></script>
    <script type="text/javascript" src="/js/models/roomsModel.js"></script>
    <script type="text/javascript" src="/js/models/searchModel.js"></script>
    <script type="text/javascript" src="/js/models/uploadsModel.js"></script>
    <script type="text/javascript" src="/js/models/usersModel.js"></script>

    <script type="text/javascript" src="/js/views/browseView.js"></script>
    <script type="text/javascript" src="/js/views/chatView.js"></script>
    <script type="text/javascript" src="/js/views/containerView.js"></script>
    <script type="text/javascript" src="/js/views/downloadsView.js"></script>
    <script type="text/javascript" src="/js/views/recommenderView.js"></script>
    <script type="text/javascript" src="/js/views/optionsView.js"></script>
    <script type="text/javascript" src="/js/views/roomsView.js"></script>
    <script type="text/javascript" src="/js/views/searchView.js"></script>
    <script type="text/javascript" src="/js/views/uploadsView.js"></script>
    <script type="text/javascript" src="/js/views/usersView.js"></script>

    <script type="text/javascript" src="/js/jassSockets.js"></script>
    <script type="text/javascript" src="/js/jassMain.js"></script>


</body>
</html>
